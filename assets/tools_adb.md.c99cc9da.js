import{_ as a,c as e,o as d,a as l}from"./app.024b07fe.js";const t="/assert/adb/2020-07-27-10-55-25.png",i="/assert/adb/2020-07-27-10-57-31.png",r="/assert/adb/2020-07-27-11-02-37.png",s="/assert/adb/2020-07-27-11-04-51.png",n="/assert/adb/2020-07-27-11-06-25.png",o="/assert/adb/2020-07-27-11-38-20.png",c="/assert/adb/2020-07-27-12-06-45.png",w=JSON.parse('{"title":"adb\u7684\u73AF\u5883\u51C6\u5907\u3002","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u83B7\u53D6\u5305\u540D","slug":"\u83B7\u53D6\u5305\u540D","link":"#\u83B7\u53D6\u5305\u540D","children":[]},{"level":2,"title":"\u8D44\u6E90\u76D1\u63A7","slug":"\u8D44\u6E90\u76D1\u63A7","link":"#\u8D44\u6E90\u76D1\u63A7","children":[]},{"level":2,"title":"\u65E5\u5FD7\u6355\u83B7","slug":"\u65E5\u5FD7\u6355\u83B7","link":"#\u65E5\u5FD7\u6355\u83B7","children":[]},{"level":2,"title":"\u7A33\u5B9A\u6027\u6D4B\u8BD5","slug":"\u7A33\u5B9A\u6027\u6D4B\u8BD5","link":"#\u7A33\u5B9A\u6027\u6D4B\u8BD5","children":[]},{"level":2,"title":"dumpsys\u547D\u4EE4\u4ECB\u7ECD","slug":"dumpsys\u547D\u4EE4\u4ECB\u7ECD","link":"#dumpsys\u547D\u4EE4\u4ECB\u7ECD","children":[]}],"relativePath":"tools/adb.md","lastUpdated":1664267760000}'),h={name:"tools/adb.md"},p=l('<p>ADB\u662FAndroid-Sdk\u91CC\u7684\u4E00\u4E2A\u5BA2\u6237\u7AEF-\u670D\u52A1\u5668\u7AEF\u7A0B\u5E8F\uFF0C\u5176\u4E2D\u5BA2\u6237\u7AEF\u662F\u6211\u4EEC\u64CD\u4F5C\u7684\u7535\u8111, \u670D\u52A1\u5668\u7AEF\u662FAndroid\u8BBE\u5907\uFF0C\u5B83\u7684\u5168\u79F0\u4E3AAndroid Debug Bridge\uFF0C\u5C31\u662F\u8D77\u5230\u8C03\u8BD5\u6865\u7684\u4F5C\u7528\u3002\u901A\u8FC7\u8FD9\u4E2A\u6865\u6211\u4EEC\u53EF\u4EE5\u7BA1\u7406\u8BBE\u5907\u6216\u624B\u673A\u6A21\u62DF\u5668\u7684\u72B6\u6001\uFF0C\u8FD8\u53EF\u4EE5\u8FDB\u884C\u5F88\u591A\u624B\u673A\u64CD\u4F5C\uFF0C\u5982\u5B89\u88C5\u8F6F\u4EF6\u3001\u7CFB\u7EDF\u5347\u7EA7\u3001\u8FD0\u884Cshell\u547D\u4EE4\u7B49\u7B49\u3002\u7B80\u800C\u8A00\u4E4B\uFF0CADB\u5C31\u662F\u8FDE\u63A5Android\u624B\u673A\u4E0EPC\u7AEF\u7684\u6865\u6881\uFF0C\u53EF\u4EE5\u8BA9\u7528\u6237\u5728\u7535\u8111\u4E0A\u5BF9\u624B\u673A\u8FDB\u884C\u5168\u9762\u7684\u64CD\u4F5C\u3002</p><blockquote><p>\u8BE6\u7EC6\u8BF4\u660E\uFF1A<a href="https://developer.android.google.cn/studio/command-line/adb" target="_blank" rel="noreferrer">https://developer.android.google.cn/studio/command-line/adb</a></p></blockquote><h1 id="adb\u7684\u73AF\u5883\u51C6\u5907\u3002" tabindex="-1">adb\u7684\u73AF\u5883\u51C6\u5907\u3002 <a class="header-anchor" href="#adb\u7684\u73AF\u5883\u51C6\u5907\u3002" aria-hidden="true">#</a></h1><p>\u4E0B\u8F7Dadb\u7684\u5B89\u88C5\u5305\u3002 \u4E0B\u8F7D\u5730\u5740\uFF1A<a href="https://adb.clockworkmod.com/" target="_blank" rel="noreferrer">https://adb.clockworkmod.com/</a> \u5B89\u88C5adb\u5E76\u914D\u7F6E\u73AF\u5883\u53D8\u91CF \u53CC\u51FB\u4E0B\u8F7D\u7684\u5B89\u88C5\u5305\uFF0C\u5B89\u88C5\u6210\u529F\u540E\uFF0C\u8BB2\u8DEF\u5F84\u6DFB\u52A0\u5230\u73AF\u5883\u53D8\u91CF\u4E2D\u3002 <img src="'+t+'" alt=""> \u914D\u7F6E\u53F7\u73AF\u5883\u53D8\u91CF\u540E\uFF0C\u6253\u5F00cmd\uFF0C\u8F93\u5165adb version\u68C0\u67E5adb\u662F\u5426\u5B89\u88C5\u6210\u529F\u3002</p><h1 id="adb\u7684\u8FDE\u63A5" tabindex="-1">adb\u7684\u8FDE\u63A5 <a class="header-anchor" href="#adb\u7684\u8FDE\u63A5" aria-hidden="true">#</a></h1><p>adb\u7684\u8FDE\u63A5\u67092\u79CD\u65B9\u5F0F\uFF0C\u7B2C\u4E00\u79CD\u662F\u6709\u7EBF\u8FDE\u63A5\uFF0C\u7B2C\u4E8C\u79CD\u662F\u65E0\u7EBF\u8FDE\u63A5\u3002 \u6CE8\u610F\uFF0C\u4E0D\u7BA1\u662F\u6709\u7EBF\u8FD8\u662F\u65E0\u7EBF\uFF0C\u90FD\u9700\u8981\u5148\u6253\u5F00\u624B\u673A\u7684\u5F00\u53D1\u8005\u6A21\u5F0F\uFF0C\u7136\u540E\u4F7F\u7528USB\u7EBF\uFF0C\u5C06\u624B\u673A\u548C\u7535\u8111\u8FDE\u63A5\u3002</p><ul><li>\u6709\u7EBF\u8FDE\u63A5 1\u3001\u624B\u673A\u6253\u5F00\u5F00\u53D1\u8005\u6A21\u5F0F\u3002 \u5728\u624B\u673A\u7684\u7CFB\u7EDF\u8BBE\u7F6E\u4E2D\uFF0C\u70B9\u51FB\u5173\u4E8E\u624B\u673A\uFF0C\u7136\u540E\u8FDE\u7EED\u70B9\u51FB7\u6B21\u7CFB\u7EDF\u7248\u672C\u53F7\uFF0C\u5C31\u53EF\u4EE5\u6253\u5F00\u5F00\u53D1\u8005\u6A21\u5F0F\u3002 2\u3001\u542F\u7528USB\u8C03\u8BD5 \u8FDB\u5165\u5F00\u53D1\u8005\u6A21\u5F0F\u540E\uFF0C\u4F7F\u7528USB\u7EBF\u5C06\u7535\u8111\u548C\u624B\u673A\u8FDB\u884C\u8FDE\u63A5\uFF0C\u7136\u540E\u5728\u624B\u673A\u4E0A\u52FE\u9009\u4E0AUSB\u8C03\u8BD5\u9009\u9879\u3002 \u6CE8\u610F\uFF1A\u8BF7\u8BBE\u7F6E\u624B\u673A\u606F\u5C4F\u65F6\u95F4\u548C\u5728\u5145\u7535\u6A21\u5F0F\u4E0B\u8FDB\u884CUSB\u8C03\u8BD5\u3002 3\u3001\u68C0\u67E5\u662F\u5426\u8FDE\u63A5\u6210\u529F\u3002 \u6253\u5F00cmd\u8F93\u5165adb devices\uFF0C\u68C0\u67E5\u662F\u5426\u51FA\u73B0\u8BBE\u5907\u540D\u79F0\u3002 <img src="'+i+'" alt=""> \u5982\u679C\u51FA\u73B0\u8BBE\u5907\u540D\u79F0\uFF0C\u5219\u8FDE\u63A5\u6210\u529F\u3002 \u5982\u679C\u6CA1\u51FA\u73B0\uFF0C\u8BF7\u68C0\u67E5\u524D\u9762\u7684\u6B65\u9AA4\u3002 \u8FDE\u63A5\u6210\u529F\u540E\uFF0C\u4FBF\u53EF\u4EE5\u505A\u5176\u4ED6\u64CD\u4F5C\u4E86\u3002\u6CE8\u610F\uFF0C\u5FC5\u987B\u4E00\u81F4\u4FDD\u6301\u624B\u673A\u548C\u7535\u8111\u7684\u8FDE\u63A5\u72B6\u6001\u3002\uFF08\u4E0D\u80FD\u628AUSB\u7EBF\u62D4\u4E86\uFF09</li><li>\u65E0\u7EBF\u8FDE\u63A5 adb\u901A\u8FC7USB\u7EBF\u8FDE\u63A5\u6210\u529F\u540E\uFF0C\u5219\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\uFF0C\u628A\u6709\u7EBF\u53D8\u6210\u65E0\u7EBF\u3002 1\u3001\u8BF7\u4FDD\u8BC1\u624B\u673A\u548C\u7535\u8111\u5904\u4E8E\u540C\u4E00\u4E2A\u5C40\u57DF\u7F51\u3002 2\u3001\u67E5\u770B\u624B\u673A\u5C40\u57DF\u7F51IP adb shell netcfg <img src="'+r+'" alt=""> 3\u3001\u542F\u52A8\u624B\u673A\u8FDC\u7A0B\u670D\u52A1\u5E76\u8FDE\u63A5 \u542F\u52A8\u5E76\u8BBE\u7F6E\u7AEF\u53E3\u53F7\uFF1Aadb tcpip \u7AEF\u53E3\u53F7<br> \u8FDE\u63A5adb\u670D\u52A1\uFF1Aadb connect ip:\u7AEF\u53E3 <img src="'+s+'" alt=""> 4\u3001\u68C0\u67E5\u662F\u5426\u8FDE\u63A5\u6210\u529F <img src="'+n+'" alt=""></li></ul><h1 id="adb\u5E38\u7528\u547D\u4EE4" tabindex="-1">adb\u5E38\u7528\u547D\u4EE4 <a class="header-anchor" href="#adb\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a></h1><ul><li>1\uFF09adb devices \u67E5\u770B\u5F53\u524D\u8FDE\u63A5\u7535\u8111\u7684\u8BBE\u5907\uFF0C\u5B89\u5353\u8BBE\u5907\u6216\u8005\u6A21\u62DF\u5668\u4F1A\u88AB\u663E\u793A\u51FA\u6765</li><li>2\uFF09adb install \u5C06\u6307\u5B9A\u7684APK\u6587\u4EF6\u5B89\u88C5\u5230\u8BBE\u5907\u4E0A</li><li>3\uFF09adb uninstall \u5C06\u6307\u5B9A\u7684APP\u4ECE\u8BBE\u5907\u4E0A\u5378\u8F7D</li><li>4\uFF09adb shell\xA0\u901A\u8FC7\u4E0A\u9762\u7684\u547D\u4EE4\uFF0C\u5C31\u53EF\u4EE5\u8FDB\u5165\u8BBE\u5907\u6216\u6A21\u62DF\u5668\u7684shell\u73AF\u5883\u4E2D\uFF0C\u5728\u8FD9\u4E2ALinux Shell\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u6267\u884C\u5404\u79CDLinux\u7684\u547D\u4EE4\uFF0C\u53E6\u5916\u5982\u679C\u53EA\u60F3\u6267\u884C\u4E00\u6761shell\u547D\u4EE4\uFF0C\u53EF\u4EE5\u91C7\u7528\u8FD9\u79CD\u65B9\u5F0F\uFF1Aadb shell \uFF3Bcommand\uFF3D\uFF0C\u5982\uFF1Aadb shell dmesg\u4F1A\u6253\u5370\u51FA\u5185\u6838\u7684\u8C03\u8BD5\u4FE1\u606F</li><li><ol start="5"><li>adb push \u53EF\u4EE5\u5C06\u7535\u8111\u4E0A\u7684\u6587\u4EF6\u6216\u8005\u6587\u4EF6\u5939\u590D\u5236\u5230\u624B\u673A\u8BBE\u5907\u4E0A</li></ol></li><li>6\uFF09adb pull \u53EF\u4EE5\u628A\u624B\u673A\u8BBE\u5907\u4E0A\u7684\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u590D\u5236\u5230\u672C\u5730\u7535\u8111\u4E0A</li><li>7\uFF09adb get-product \u83B7\u53D6\u8BBE\u5907\u7684ID\u53F7</li><li>8\uFF09adb get-serialno \u83B7\u53D6\u8BBE\u5907\u7684\u5E8F\u5217\u53F7</li><li>9\uFF09adb help \u83B7\u53D6\u5E2E\u52A9\u4FE1\u606F</li><li>10\uFF09 adb kill-server \u5173\u95EDadb\u670D\u52A1</li><li>10\uFF09 adb start-server \u542F\u52A8adb\u670D\u52A1</li><li>10\uFF09 adb version \u67E5\u770Badb\u7248\u672C\u53F7</li></ul><h1 id="adb\u5E38\u7528\u6D4B\u8BD5\u573A\u666F" tabindex="-1">ADB\u5E38\u7528\u6D4B\u8BD5\u573A\u666F <a class="header-anchor" href="#adb\u5E38\u7528\u6D4B\u8BD5\u573A\u666F" aria-hidden="true">#</a></h1><h2 id="\u83B7\u53D6\u5305\u540D" tabindex="-1">\u83B7\u53D6\u5305\u540D <a class="header-anchor" href="#\u83B7\u53D6\u5305\u540D" aria-hidden="true">#</a></h2><p>1\u3001\u83B7\u53D6\u8BBE\u5907\u6240\u6709\u5B89\u88C5\u5305\uFF1Aadb shell pm list packages \uFF08\u67E5\u770B\u6240\u6709\u5305\uFF09 | adb shell pm list package -3 \uFF08\u67E5\u770B\u7B2C\u4E09\u65B9\u7684\u5305\uFF09 2\u3001\u83B7\u53D6\u8981\u76D1\u63A7\u7684APP\u7684\u5305\u540D\u3002adb logcat ActivityManager:I *\u{1F612} \u6267\u884Cadb logcat ActivityManager:I *\u{1F612}\uFF0C\u7136\u540E\u5728\u624B\u673A\u4E0A\u64CD\u4F5C\u8981\u76D1\u63A7\u7684\u5305\uFF0C\u901A\u8FC7\u65E5\u5FD7\u627E\u5230\u5305\u540D\u3002 <img src="'+o+'" alt=""></p><h2 id="\u8D44\u6E90\u76D1\u63A7" tabindex="-1">\u8D44\u6E90\u76D1\u63A7 <a class="header-anchor" href="#\u8D44\u6E90\u76D1\u63A7" aria-hidden="true">#</a></h2><ul><li><p>\u5185\u5B58\u548CCPU\u76D1\u63A7 top -d 1 | grep \u5305\u540D <img src="'+c+'" alt=""> \u6BCF\u5217\u8BF4\u660E\uFF1A PID \u8FDB\u7A0Bid USER \u8FDB\u7A0B\u6240\u6709\u8005\u7684\u7528\u6237\u540D PR \u4F18\u5148\u7EA7 NInice \u503C\u3002\u8D1F\u503C\u8868\u793A\u9AD8\u4F18\u5148\u7EA7\uFF0C\u6B63\u503C\u8868\u793A\u4F4E\u4F18\u5148\u7EA7 VIRT \u73AF\u5883\u53D8\u66F4\u7387 RES \u8FDB\u7A0B\u4F7F\u7528\u7684\u3001\u672A\u88AB\u6362\u51FA\u7684\u7269\u7406\u5185\u5B58\u5927\u5C0F\uFF0C\u5355\u4F4Dkb\u3002RES=CODE+DATA SHR \u5171\u4EAB\u5185\u5B58\u5927\u5C0F\uFF0C\u5355\u4F4Dkb D/R/S/T/Z \u8FDB\u7A0B\u72B6\u6001:D=\u4E0D\u53EF\u4E2D\u65AD\u7684\u7761\u7720\u72B6\u6001, R=\u8FD0\u884C, S=\u7761\u7720, T=\u8DDF\u8E2A/\u505C\u6B62, Z=\u50F5\u5C38\u8FDB\u7A0B %CPU \u4E0A\u6B21\u66F4\u65B0\u5230\u73B0\u5728\u7684CPU\u65F6\u95F4\u5360\u7528\u767E\u5206\u6BD4 %MEM \u8FDB\u7A0B\u4F7F\u7528\u7684\u7269\u7406\u5185\u5B58\u767E\u5206\u6BD4 TIME+ \u8FDB\u7A0B\u4F7F\u7528\u7684CPU\u65F6\u95F4\u603B\u8BA1\uFF0C\u5355\u4F4D1/100\u79D2</p></li><li><p>\u7535\u91CF adb shell dumpsys battery</p></li><li><p>\u6D41\u91CF</p></li></ul><h2 id="\u65E5\u5FD7\u6355\u83B7" tabindex="-1">\u65E5\u5FD7\u6355\u83B7 <a class="header-anchor" href="#\u65E5\u5FD7\u6355\u83B7" aria-hidden="true">#</a></h2><p>adb logcat &gt; d:\\info.txt</p><h2 id="\u7A33\u5B9A\u6027\u6D4B\u8BD5" tabindex="-1">\u7A33\u5B9A\u6027\u6D4B\u8BD5 <a class="header-anchor" href="#\u7A33\u5B9A\u6027\u6D4B\u8BD5" aria-hidden="true">#</a></h2><p><a href="https://www.jianshu.com/p/cb0cee9a22f1" target="_blank" rel="noreferrer">https://www.jianshu.com/p/cb0cee9a22f1</a><a href="https://www.cnblogs.com/yindada/p/9845032.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/yindada/p/9845032.html</a> \u5BF9\u6307\u5B9A\u5305\u8FDB\u884C\u968F\u673A\u6D4B\u8BD5\u5E76\u8F93\u51FA\u65E5\u5FD7\u5230\u6587\u4EF6 adb shell monkey -p com.zhihu.android -vvv 200 &gt; d:\\info.txt</p><p>\u6D4B\u8BD5\u7ED3\u679C\u5206\u6790\uFF1A</p><p>a\u3001\u7A0B\u5E8F\u65E0\u54CD\u5E94\uFF0CANR\u95EE\u9898\uFF1A\u5728\u65E5\u5FD7\u4E2D\u641C\u7D22\u201CANR\u201D</p><p>b\u3001\u5D29\u6E83\u95EE\u9898\uFF1A\u5728\u65E5\u5FD7\u4E2D\u641C\u7D22\u201CCRASH\u201D</p><p>c\u3001\u5176\u4ED6\u95EE\u9898:\u5728\u65E5\u5FD7\u4E2D\u641C\u7D22\u201DException\u201D</p><h2 id="dumpsys\u547D\u4EE4\u4ECB\u7ECD" tabindex="-1">dumpsys\u547D\u4EE4\u4ECB\u7ECD <a class="header-anchor" href="#dumpsys\u547D\u4EE4\u4ECB\u7ECD" aria-hidden="true">#</a></h2><p><a href="https://www.cnblogs.com/JianXu/p/5376642.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/JianXu/p/5376642.html</a></p>',24),b=[p];function m(g,u,_,f,k,S){return d(),e("div",null,b)}const A=a(h,[["render",m]]);export{w as __pageData,A as default};
